---
layout: null
---
{
  "posts": [
    {% for post in site.posts %}
    {
      "id": "{{ post.id | slugify }}",
      "title": {{ post.title | jsonify }},
      "date": "{{ post.date | date_to_xmlschema }}",
      "url": "{{ post.url | relative_url }}",
      "path": "{{ post.path }}",
      "categories": {{ post.categories | jsonify }},
      "tags": {{ post.tags | jsonify }},
      "excerpt": {{ post.excerpt | strip_html | truncate: 200 | jsonify }},
      "author": {{ post.author | jsonify }},
      "published": {% if post.published == false %}false{% else %}true{% endif %}
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ],
  "drafts": [
    {% for post in site.drafts %}
    {
      "id": "{{ post.id | slugify }}",
      "title": {{ post.title | jsonify }},
      "date": "{{ post.date | date_to_xmlschema }}",
      "url": "{{ post.url | relative_url }}",
      "path": "{{ post.path }}",
      "categories": {{ post.categories | jsonify }},
      "tags": {{ post.tags | jsonify }},
      "excerpt": {{ post.excerpt | strip_html | truncate: 200 | jsonify }},
      "author": {{ post.author | jsonify }},
      "published": false
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ],
  "categories": [
    {% assign all_categories = "" | split: "" %}
    {% for post in site.posts %}
      {% for category in post.categories %}
        {% unless all_categories contains category %}
          {% assign all_categories = all_categories | push: category %}
        {% endunless %}
      {% endfor %}
    {% endfor %}
    {% for category in all_categories %}
    {{ category | jsonify }}{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ]
}