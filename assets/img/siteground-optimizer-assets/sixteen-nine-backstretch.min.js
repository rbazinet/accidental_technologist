/*! Backstretch - v2.0.4 - 2013-06-19
* http://srobbin.com/jquery-plugins/backstretch/
* Copyright (c) 2013 Scott Robbin; Licensed MIT */(function(a,b,k){var n,l,j,h,d,i,c,e,g,m,f;a.fn.backstretch=function(c,d){return(c===k||0===c.length)&&a.error("No images were supplied for Backstretch"),0===a(b).scrollTop()&&b.scrollTo(0,0),this.each(function(){var e=a(this),b=e.data("backstretch");if(b){if("string"==typeof c&&"function"==typeof b[c]){b[c](d);return}d=a.extend(b.options,d),b.destroy(!0)}b=new j(this,c,d),e.data("backstretch",b)})},a.backstretch=function(b,c){return a("body").backstretch(b,c).data("backstretch")},a.expr[":"].backstretch=function(b){return a(b).data("backstretch")!==k},a.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0},n={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},l={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},j=function(c,d,e){this.options=a.extend({},a.fn.backstretch.defaults,e||{}),this.images=a.isArray(d)?d:[d],a.each(this.images,function(){a("<img />")[0].src=this}),this.isBody=c===document.body,this.$container=a(c),this.$root=this.isBody?h?a(b):a(document):this.$container,c=this.$container.children(".backstretch").first(),this.$wrap=c.length?c:a('<div class="backstretch"></div>').css(n).appendTo(this.$container),this.isBody||(c=this.$container.css("position"),d=this.$container.css("zIndex"),this.$container.css({position:"static"===c?"relative":c,zIndex:"auto"===d?0:d,background:"none"}),this.$wrap.css({zIndex:-999998})),this.$wrap.css({position:this.isBody&&h?"fixed":"absolute"}),this.index=0,this.show(this.index),a(b).on("resize.backstretch",a.proxy(this.resize,this)).on("orientationchange.backstretch",a.proxy(function(){this.isBody&&0===b.pageYOffset&&(b.scrollTo(0,1),this.resize())},this))},j.prototype={resize:function(){try{var f={left:0,top:0},g=this.isBody?this.$root.width():this.$root.innerWidth(),c=g,d=this.isBody?b.innerHeight?b.innerHeight:this.$root.height():this.$root.innerHeight(),a=c/this.$img.data("ratio"),e;a>=d?(e=(a-d)/2,this.options.centeredY&&(f.top="-"+e+"px")):(a=d,c=a*this.$img.data("ratio"),e=(c-g)/2,this.options.centeredX&&(f.left="-"+e+"px")),this.$wrap.css({width:g,height:d}).find("img:not(.deleteable)").css({width:c,height:a}).css(f)}catch(a){}return this},show:function(c){if(!(Math.abs(c)>this.images.length-1)){var b=this,e=b.$wrap.find("img").addClass("deleteable"),d={relatedTarget:b.$container[0]};return b.$container.trigger(a.Event("backstretch.before",d),[b,c]),this.index=c,clearInterval(b.interval),b.$img=a("<img />").css(l).bind("load",function(f){var g=this.width||a(f.target).width();f=this.height||a(f.target).height(),a(this).data("ratio",g/f),a(this).fadeIn(b.options.speed||b.options.fade,function(){e.remove(),b.paused||b.cycle(),a(["after","show"]).each(function(){b.$container.trigger(a.Event("backstretch."+this,d),[b,c])})}),b.resize()}).appendTo(b.$wrap),b.$img.attr("src",b.images[c]),b}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return 1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(a.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(c){a(b).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),c||this.$wrap.remove(),this.$container.removeData("backstretch")}},d=navigator.userAgent,i=navigator.platform,c=d.match(/AppleWebKit\/([0-9]+)/),c=!!c&&c[1],e=d.match(/Fennec\/([0-9]+)/),e=!!e&&e[1],g=d.match(/Opera Mobi\/([0-9]+)/),m=!!g&&g[1],f=d.match(/MSIE ([0-9]+)/),f=!!f&&f[1],h=!((-1<i.indexOf("iPhone")||-1<i.indexOf("iPad")||-1<i.indexOf("iPod"))&&c&&534>c||b.operamini&&"[object OperaMini]"==={}.toString.call(b.operamini)||g&&7458>m||-1<d.indexOf("Android")&&c&&533>c||e&&6>e||"palmGetResource"in b&&c&&534>c||-1<d.indexOf("MeeGo")&&-1<d.indexOf("NokiaBrowser/8.5.0")||f&&6>=f)})(jQuery,window)